<script>
  const chapterTree = {
    name: '总章节',
    children: [
      {
        name: '章节一',
        children: [
          {
            name: '第一节',
            children: [
              { name: '第一小节' },
              { name: '第二小节' }
            ]
          },
          { name: '第二节' }
        ]
      },
      {
        name: '章节二',
        children: [
          { name: '第三节' },
          { name: '第四节' }
        ]
      }
    ]
  }
  let res = []
  function prefix(arr) {
    if(arr.length === 0) {
      return ''
    }
    return `(${arr.join(',')})`
  }
  function func(data, depth = []) {
    res.push(`${prefix(depth)}${data.name}`)
    if(!data.children) {
      return
    }
    data.children.forEach((item, i) => {
      let t = [...depth, i + 1]
      func(item, t)
    })
  }
  func(chapterTree)
  console.log(res)
</script>
